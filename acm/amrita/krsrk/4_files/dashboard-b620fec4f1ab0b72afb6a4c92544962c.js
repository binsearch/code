(function(){$.ajaxSetup({cache:!1}),$(document).ready(function(){var a,b,c,d,e,f,g,h,i;return a=window.HR,a.appController=new a.AppController,a.master="master",$.timeago.settings.allowFuture=!0,require.config({waitSeconds:30}),i=function(b,c){return _.each(c,function(c){return a[c]=b[c]})},i(a.appController,["namespace","requires","routeNamespace","restURL","model","collection","profile","contest"]),i(a.appController,["logger"]),c=new a.ProfileModel,b=new a.ContestModel,h={},_.extend(a.GenericModel.prototype,a.CacheMixin),_.extend(a.GenericCollection.prototype,a.CacheMixin),a.key_prefix=a.PREFETCH_DATA.profile.key_prefix,c.cacheSet(_.extend(a.PREFETCH_DATA.profile,{me:!0})),b.cacheSet(a.PREFETCH_DATA.contest),_.each(a.PREFETCH_DATA.challenges,function(b){var c;return c=new a.ChallengeModel,c.cacheSet(b),h[b.slug]=c}),a.tour_challenges=h,c.get("id")!==void 0&&!c.get("tour_done")&&(e=function(){var b;return b=new a.MultiFrameModal({frames:"onboarding",data:{version:1}}),b.on("preFrameChange",function(a,b){var d;if(a===0&&b===1){d=$("input:radio[name=favorite]:checked").val(),typeof mixpanel!="undefined"&&typeof mixpanel.track!="undefined"&&mixpanel.track("OnboardingSelect",{category:d});if(d)return c.set("favorite_category",d),c.save()}}),b.on("postFrameChange",function(d,e){var f,g,h,i,j=this;if(d===0&&e===1)return i=c.get("favorite_category"),f={codegolf:"fizzbuzz",ml:"battery",algorithms:"pairs",fp:"fp-hello-world",games:"the-bidding-game"},g=a.tour_challenges[f[i]],h=new a.OnboardingChallengesListView({contest:a.contest(),model:g}),h.el=$(".frame-subview"),h.render(),h.on("linkClicked",function(){return window.touring=!0,window.tour_up=!1,b.$(".close").click()}),h.$el=$(h.el),h.delegateEvents(),b.$(".hr_solve-challenge").on("click",function(){return h.$(".challengelist_button").click()})}),c.set("tour_done",!0),c.save(),b},f=function(){var b;return b=new a.MultiFrameModal({frames:"onboarding",data:{version:2}}),b.on("preFrameChange",function(a,b){var d;if(a===0&&b===1){d=$("input:radio[name=favorite]:checked").val(),typeof mixpanel!="undefined"&&typeof mixpanel.track!="undefined"&&mixpanel.track("OnboardingSelect",{category:d});if(d)return c.set("favorite_category",d),c.save()}}),b.on("postFrameChange",function(d,e){var f,g,h,i,j=this;if(d===0&&e===1)return i=c.get("favorite_category"),f={codegolf:"fizzbuzz",ml:"battery",algorithms:"lonely-integer",fp:"fp-hello-world",games:"the-bidding-game"},g=a.tour_challenges[f[i]],h=new a.OnboardingChallengesListView({contest:a.contest(),model:g}),h.el=$(".frame-subview"),h.render(),h.on("linkClicked",function(){return window.touring=!0,window.tour_up=!1,b.$(".close").click()}),h.$el=$(h.el),h.delegateEvents(),b.$(".hr_solve-challenge").on("click",function(){return h.$(".challengelist_button").click()})}),c.set("tour_done",!0),c.save(),b},g=function(){var b;return b=new a.Onboarding3View({model:a.profile()}),c.set("tour_done",!0),c.save(),b},window.tourABTest=new a.ABTest,window.tourABTest.test="onboarding1",d=new a.ABTestingView({model:window.tourABTest,variants:{onboardingv1:e,onboardingv2:f,onboardingv3:g}}),d.el=null,d.render()),a.appController.manifest(),a.router=new a.DashboardRouter,Backbone.history.start({pushState:!0})})}).call(this)